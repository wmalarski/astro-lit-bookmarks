---
import Layout from "../layouts/Layout.astro";
import "../components/Button/Button";
import { paths } from "@utils/paths";

if (!Astro.locals.session) {
  return Astro.redirect(paths.login);
}

const bookmarks = await Astro.locals.mastoClient?.v1.bookmarks.list({
  limit: 2,
});
---

<Layout title="Welcome to Astro.">
  <main>
    <alb-button>Primary</alb-button>
    <alb-button variant="secondary">Secondary</alb-button>
    <alb-button disabled>AAA</alb-button>
    <alb-button size="small">Small</alb-button>
    <alb-button size="medium">Medium</alb-button>
    <alb-button size="large">Large</alb-button>

    <a href={paths.loginMastodon}>Sign in with Mastodon</a>
    <a href={paths.logout}>Sign out</a>

    <pre>{JSON.stringify(bookmarks, null, 2)}</pre>
  </main>
</Layout>
